(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{E5tf:function(t,e,i){"use strict";i.r(e),i.d(e,"ChildRoutesModule",function(){return Kt});var s=i("fXoL");let r=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(t,e){1&t&&(s.Mb(0,"p"),s.jc(1,"dashboard works!"),s.Lb())},encapsulation:2}),t})();var o=i("ofXK"),a=i("3Pt+");const n=function(t){return{"is-invalid":t}};let c=(()=>{class t{constructor(){this.progress=40,this.btnClass="btn-info",this.valueOut=new s.n}ngOnInit(){this.btnClass=`btn ${this.btnClass}`}get getPorcent(){return`${this.progress}%`}changeValue(t){return this.progress>=100&&t>=0?(this.valueOut.emit(100),this.progress=100):this.progress<=0&&t<0?(this.valueOut.emit(0),this.progress=0):(this.progress+=t,void this.valueOut.emit(this.progress))}onChange(t){this.progress=t>=100?100:t<=0?0:t,this.valueOut.emit(this.progress)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["app-incrementador"]],inputs:{progress:["valor","progress"],btnClass:"btnClass"},outputs:{valueOut:"valor"},decls:8,vars:6,consts:[[1,"input-group"],[1,"input-group-btn"],["type","button",3,"ngClass","click"],[1,"fa","fa-minus"],["type","number","placeholder","Progreso",1,"form-control",3,"ngClass","ngModel","ngModelChange"],[1,"fa","fa-plus"]],template:function(t,e){1&t&&(s.Mb(0,"div",0),s.Mb(1,"span",1),s.Mb(2,"button",2),s.Tb("click",function(){return e.changeValue(-5)}),s.Kb(3,"i",3),s.Lb(),s.Lb(),s.Mb(4,"input",4),s.Tb("ngModelChange",function(t){return e.onChange(t)})("ngModelChange",function(t){return e.progress=t}),s.Lb(),s.Mb(5,"span",1),s.Mb(6,"button",2),s.Tb("click",function(){return e.changeValue(5)}),s.Kb(7,"i",5),s.Lb(),s.Lb(),s.Lb()),2&t&&(s.yb(2),s.Zb("ngClass",e.btnClass),s.yb(2),s.Zb("ngClass",s.bc(4,n,e.progress>100||e.progress<0))("ngModel",e.progress),s.yb(2),s.Zb("ngClass",e.btnClass))},directives:[o.h,a.l,a.b,a.g,a.j],encapsulation:2}),t})(),b=(()=>{class t{constructor(){this.progress1=25,this.progress2=35}get getProgress1(){return`${this.progress1}%`}get getProgress2(){return`${this.progress2}%`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["app-progress"]],decls:19,vars:6,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"progress","m-t-20"],["role","progressbar",1,"progress-bar","bg-info","progress-bar-striped","active",2,"height","5px"],["role","progressbar",1,"progress-bar","bg-primary","progress-bar-striped","active",2,"height","5px"],[1,"col-6"],[3,"valor"],["btnClass","btn-primary",3,"valor"]],template:function(t,e){1&t&&(s.Mb(0,"div",0),s.Mb(1,"div",1),s.Mb(2,"div",2),s.Mb(3,"div",3),s.Mb(4,"h4",4),s.jc(5,"Striped Progress bar"),s.Lb(),s.Mb(6,"div",5),s.Kb(7,"div",6),s.Lb(),s.Mb(8,"div",5),s.Kb(9,"div",7),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Mb(10,"div",0),s.Mb(11,"div",8),s.Mb(12,"div",2),s.Mb(13,"div",3),s.Mb(14,"app-incrementador",9),s.Tb("valor",function(t){return e.progress1=t}),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Mb(15,"div",8),s.Mb(16,"div",2),s.Mb(17,"div",3),s.Mb(18,"app-incrementador",10),s.Tb("valor",function(t){return e.progress2=t}),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb()),2&t&&(s.yb(7),s.hc("width",e.getProgress1),s.yb(2),s.hc("width",e.getProgress2),s.yb(5),s.Zb("valor",e.progress1),s.yb(4),s.Zb("valor",e.progress2))},directives:[c],styles:[".progress-bar.active[_ngcontent-%COMP%], .progress.active[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{animation:progress-bar-stripes 2s linear infinite}.progress-vertical[_ngcontent-%COMP%], .progress-vertical-bottom[_ngcontent-%COMP%]{min-height:250px;height:250px;position:relative;display:inline-block;margin-bottom:0;margin-right:20px}.progress-vertical-bottom[_ngcontent-%COMP%]{transform:rotate(180deg)}.progress-animated[_ngcontent-%COMP%]{-webkit-animation-duration:5s;-webkit-animation-name:myanimation;-webkit-transition:all 5s;animation-duration:5s;animation-name:myanimation;transition:all 5s}@keyframes myanimation{0%{width:0}}"]}),t})();var l=i("LPYB");let d=(()=>{class t{constructor(){this.title="Sin titulo",this.colors=[{backgroundColor:["#6857E6","#009FEE","#F02059"]}]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["app-donut"]],inputs:{title:"title",labels:"labels",data:"data"},decls:8,vars:4,consts:[[1,"card"],[1,"card-body"],[2,"display","block"],["baseChart","","chartType","doughnut",3,"data","labels","colors"]],template:function(t,e){1&t&&(s.Mb(0,"div",0),s.Mb(1,"div",1),s.Mb(2,"h3"),s.jc(3),s.Lb(),s.Mb(4,"div"),s.Mb(5,"div"),s.Mb(6,"div",2),s.Kb(7,"canvas",3),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb()),2&t&&(s.yb(3),s.lc(" ",e.title," "),s.yb(4),s.Zb("data",e.data)("labels",e.labels)("colors",e.colors))},directives:[l.a],encapsulation:2}),t})(),u=(()=>{class t{constructor(){this.title1="Ventas",this.labels1=["Ventas descargadas","Ventas en tienda","Reporte de ventas"],this.data1=[[350,450,100]],this.title2="Compras",this.labels2=["Compras descargadas","Compras en tienda","Reporte de compras"],this.data2=[[250,600,100]],this.title3="Pedidos",this.labels3=["Pedidos descargadas","Pedidos en tienda","Reporte de pedidos"],this.data3=[[500,150,300]],this.title4="Reembolsos",this.labels4=["Reembolsos descargadas","Reembolsos en tienda","Reporte de reebolsos"],this.data4=[[100,50,10]]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["app-grafica1"]],decls:10,vars:12,consts:[[1,"row"],[1,"col-6"],[3,"title","labels","data"]],template:function(t,e){1&t&&(s.Mb(0,"div",0),s.Mb(1,"div",1),s.Kb(2,"app-donut",2),s.Lb(),s.Mb(3,"div",1),s.Kb(4,"app-donut",2),s.Lb(),s.Lb(),s.Mb(5,"div",0),s.Mb(6,"div",1),s.Kb(7,"app-donut",2),s.Lb(),s.Mb(8,"div",1),s.Kb(9,"app-donut",2),s.Lb(),s.Lb()),2&t&&(s.yb(2),s.Zb("title",e.title1)("labels",e.labels1)("data",e.data1),s.yb(2),s.Zb("title",e.title2)("labels",e.labels2)("data",e.data2),s.yb(3),s.Zb("title",e.title3)("labels",e.labels3)("data",e.data3),s.yb(2),s.Zb("title",e.title4)("labels",e.labels4)("data",e.data4))},directives:[d],encapsulation:2}),t})();var h=i("6nr9");let p=(()=>{class t{constructor(t){this.settingsService=t}ngOnInit(){this.settingsService.chekCurrentTheme()}changeTheme(t){this.settingsService.changeTheme(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(h.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-account-settings"]],decls:50,vars:0,consts:[[1,"row"],[1,"col-4"],[1,"card"],[1,"card-body"],[1,"r-panel-body"],["id","themecolors",1,"m-t-20"],["data-theme","default",1,"selector","default-theme",3,"click"],["data-theme","green",1,"selector","green-theme",3,"click"],["data-theme","red",1,"selector","red-theme",3,"click"],["data-theme","blue",1,"selector","blue-theme",3,"click"],["data-theme","purple",1,"selector","purple-theme",3,"click"],["data-theme","megna",1,"selector","megna-theme",3,"click"],[1,"d-block","m-t-30"],["data-theme","default-dark",1,"selector","default-dark-theme",3,"click"],["data-theme","green-dark",1,"selector","green-dark-theme",3,"click"],["data-theme","red-dark",1,"selector","red-dark-theme",3,"click"],["data-theme","blue-dark",1,"selector","blue-dark-theme","working",3,"click"],["data-theme","purple-dark",1,"selector","purple-dark-theme",3,"click"],["data-theme","megna-dark",1,"selector","megna-dark-theme",3,"click"]],template:function(t,e){1&t&&(s.Mb(0,"div",0),s.Mb(1,"div",1),s.Mb(2,"div",2),s.Mb(3,"div",3),s.Mb(4,"h4"),s.jc(5," Seleccione el tema "),s.Lb(),s.Mb(6,"div",4),s.Mb(7,"ul",5),s.Mb(8,"li"),s.Mb(9,"b"),s.jc(10,"Con el sidebar claro"),s.Lb(),s.Lb(),s.Mb(11,"li"),s.Mb(12,"a",6),s.Tb("click",function(){return e.changeTheme("default")}),s.jc(13,"1"),s.Lb(),s.Lb(),s.Mb(14,"li"),s.Mb(15,"a",7),s.Tb("click",function(){return e.changeTheme("green")}),s.jc(16,"2"),s.Lb(),s.Lb(),s.Mb(17,"li"),s.Mb(18,"a",8),s.Tb("click",function(){return e.changeTheme("red")}),s.jc(19,"3"),s.Lb(),s.Lb(),s.Mb(20,"li"),s.Mb(21,"a",9),s.Tb("click",function(){return e.changeTheme("blue")}),s.jc(22,"4"),s.Lb(),s.Lb(),s.Mb(23,"li"),s.Mb(24,"a",10),s.Tb("click",function(){return e.changeTheme("purple")}),s.jc(25,"5"),s.Lb(),s.Lb(),s.Mb(26,"li"),s.Mb(27,"a",11),s.Tb("click",function(){return e.changeTheme("megna")}),s.jc(28,"6"),s.Lb(),s.Lb(),s.Mb(29,"li",12),s.Mb(30,"b"),s.jc(31,"Con el sidebar oscuro"),s.Lb(),s.Lb(),s.Mb(32,"li"),s.Mb(33,"a",13),s.Tb("click",function(){return e.changeTheme("default-dark")}),s.jc(34,"7"),s.Lb(),s.Lb(),s.Mb(35,"li"),s.Mb(36,"a",14),s.Tb("click",function(){return e.changeTheme("green-dark")}),s.jc(37,"8"),s.Lb(),s.Lb(),s.Mb(38,"li"),s.Mb(39,"a",15),s.Tb("click",function(){return e.changeTheme("red-dark")}),s.jc(40,"9"),s.Lb(),s.Lb(),s.Mb(41,"li"),s.Mb(42,"a",16),s.Tb("click",function(){return e.changeTheme("blue-dark")}),s.jc(43,"10"),s.Lb(),s.Lb(),s.Mb(44,"li"),s.Mb(45,"a",17),s.Tb("click",function(){return e.changeTheme("purple-dark")}),s.jc(46,"11"),s.Lb(),s.Lb(),s.Mb(47,"li"),s.Mb(48,"a",18),s.Tb("click",function(){return e.changeTheme("megna-dark")}),s.jc(49,"12"),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb())},encapsulation:2}),t})(),m=(()=>{class t{constructor(){}ngOnInit(){this.getUsuarios().then(t=>{console.log(t)})}getUsuarios(){return new Promise(t=>{fetch("https://reqres.in/api/users").then(t=>t.json()).then(e=>t(e.data))})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["app-promise"]],decls:2,vars:0,template:function(t,e){1&t&&(s.Mb(0,"p"),s.jc(1,"promise works!"),s.Lb())},styles:[""]}),t})();var f=i("HDdC"),g=i("quSY");class v extends g.a{constructor(t,e){super()}schedule(t,e=0){return this}}class M extends v{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,s=!1;try{this.work(t)}catch(r){s=!0,i=!!r&&r||new Error(r)}if(s)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let L=(()=>{class t{constructor(e,i=t.now){this.SchedulerAction=e,this.now=i}schedule(t,e=0,i){return new this.SchedulerAction(this,t).schedule(i,e)}}return t.now=()=>Date.now(),t})();class y extends L{constructor(t,e=L.now){super(t,()=>y.delegate&&y.delegate!==this?y.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return y.delegate&&y.delegate!==this?y.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const k=new y(M);var w=i("DH7j");function j(t){const{subscriber:e,counter:i,period:s}=t;e.next(i),this.schedule({subscriber:e,counter:i+1,period:s},s)}var I=i("IzEk"),T=i("lJxs"),S=i("pLZG");let x=(()=>{class t{constructor(){this.intervalSub=this.returnInterval().subscribe(console.log)}ngOnDestroy(){this.intervalSub.unsubscribe()}returnInterval(){return function(t=0,e=k){var i;return i=t,(Object(w.a)(i)||!(i-parseFloat(i)+1>=0)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=k),new f.a(i=>(i.add(e.schedule(j,t,{subscriber:i,counter:0,period:t})),i))}(100).pipe(Object(I.a)(10),Object(T.a)(t=>t+1),Object(S.a)(t=>t%2==0))}returnObservable(){let t=-1;return new f.a(e=>{const i=setInterval(()=>{t++,e.next(t),4===t&&(clearInterval(i),e.complete()),2===t&&e.error("i llego al valor ed 2")},1e3)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["app-rxjs"]],decls:2,vars:0,template:function(t,e){1&t&&(s.Mb(0,"p"),s.jc(1,"rxjs works!"),s.Lb())},encapsulation:2}),t})();var C=i("PSD3"),D=i.n(C),O=i("qfBg"),Z=i("FO31");function $(t,e){if(1&t&&s.Kb(0,"img",22),2&t){const t=s.Vb();s.Zb("src",t.user.imageUrl,s.fc)}}function N(t,e){if(1&t&&s.Kb(0,"img",22),2&t){const t=s.Vb();s.Zb("src",t.imgTemp,s.fc)}}let F=(()=>{class t{constructor(t,e,i){this.fb=t,this.userService=e,this.fileUploadService=i,this.imgTemp=null,this.user=e.user}ngOnInit(){this.profileForm=this.fb.group({name:[this.user.name,a.o.required],email:[this.user.email,[a.o.required,a.o.email]]})}updateProfile(){this.userService.updateUser(this.profileForm.value).subscribe(t=>{const{name:e,email:i}=this.profileForm.value;this.user.name=e,this.user.email=i,D.a.fire("Guardado","Cambios fueron guardados","success")},t=>{console.log(t),D.a.fire("Error",t.error.msg,"error")})}changeImage(t){if(this.image=t,!t)return this.imgTemp=null;const e=new FileReader;e.readAsDataURL(t),e.onloadend=()=>{this.imgTemp=e.result}}uploadImage(){this.fileUploadService.updatePicture(this.image,"users",this.user.uid).then(t=>{this.user.img=t,D.a.fire("Guardado","Imagen actualizada","success")}).catch(t=>{D.a.fire("Error","No se pudo subir la imagen","error")})}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(a.c),s.Jb(O.a),s.Jb(Z.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-perfil"]],decls:42,vars:6,consts:[[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"form","p-t-20",3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","id","exampleInputuname","placeholder","Nombre","formControlName","name",1,"form-control"],["for","exampleInputEmail1"],[1,"ti-email"],["type","email","id","exampleInputEmail1","placeholder","Email","formControlName","email",1,"form-control",3,"readOnly"],["type","submit",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"fa","fa-save"],[1,"text-center"],["class","img-avatar",3,"src",4,"ngIf"],["type","file",3,"change"],["type","submit",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled","click"],[1,"img-avatar",3,"src"]],template:function(t,e){1&t&&(s.Mb(0,"div",0),s.Mb(1,"div",1),s.Mb(2,"div",2),s.Mb(3,"div",3),s.Mb(4,"h4",4),s.jc(5,"Mi perfil de usuario"),s.Lb(),s.Mb(6,"h6",5),s.jc(7,"Ajustes"),s.Lb(),s.Mb(8,"form",6),s.Tb("ngSubmit",function(){return e.updateProfile()}),s.Mb(9,"div",7),s.Mb(10,"label",8),s.jc(11,"User Name"),s.Lb(),s.Mb(12,"div",9),s.Mb(13,"div",10),s.Kb(14,"i",11),s.Lb(),s.Kb(15,"input",12),s.Lb(),s.Lb(),s.Mb(16,"div",7),s.Mb(17,"label",13),s.jc(18,"Email address"),s.Lb(),s.Mb(19,"div",9),s.Mb(20,"div",10),s.Kb(21,"i",14),s.Lb(),s.Kb(22,"input",15),s.Lb(),s.Lb(),s.Mb(23,"button",16),s.Kb(24,"i",17),s.jc(25," Guardar cambios "),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Mb(26,"div",1),s.Mb(27,"div",2),s.Mb(28,"div",3),s.Mb(29,"h4",4),s.jc(30,"Avatar"),s.Lb(),s.Mb(31,"h6",5),s.jc(32,"Imagen del usuario"),s.Lb(),s.Mb(33,"div",18),s.ic(34,$,1,1,"img",19),s.ic(35,N,1,1,"img",19),s.Lb(),s.Mb(36,"input",20),s.Tb("change",function(t){return e.changeImage(t.target.files[0])}),s.Lb(),s.Kb(37,"br"),s.Kb(38,"br"),s.Mb(39,"button",21),s.Tb("click",function(){return e.uploadImage()}),s.Kb(40,"i",17),s.jc(41," Cambiar imagen "),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb()),2&t&&(s.yb(8),s.Zb("formGroup",e.profileForm),s.yb(14),s.Zb("readOnly",e.user.google),s.yb(1),s.Zb("disabled",e.profileForm.invalid),s.yb(11),s.Zb("ngIf",!e.imgTemp),s.yb(1),s.Zb("ngIf",e.imgTemp),s.yb(4),s.Zb("disabled",!e.image))},directives:[a.p,a.h,a.e,a.b,a.g,a.d,o.j],encapsulation:2}),t})();var P=i("7o/Q"),_=i("EY2u"),K=i("LRne");let H=(()=>{class t{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return Object(K.a)(this.value);case"E":return t=this.error,new f.a(e=>e.error(t));case"C":return Object(_.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function V(t,e=k){var i;const s=(i=t)instanceof Date&&!isNaN(+i)?+t-e.now():Math.abs(t);return t=>t.lift(new E(s,e))}class E{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new U(t,this.delay,this.scheduler))}}class U extends P.a{constructor(t,e,i){super(t),this.delay=e,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,i=e.queue,s=t.scheduler,r=t.destination;for(;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(r);if(i.length>0){const e=Math.max(0,i[0].time-s.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(U.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,i=new A(e.now()+this.delay,t);this.queue.push(i),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(H.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(H.createComplete()),this.unsubscribe()}}class A{constructor(t,e){this.time=t,this.notification=e}}var B=i("AytR");class J{constructor(t,e,i,s,r){this.name=t,this._id=e,this.img=i,this.user=s,this.hospital=r}}class R{constructor(t,e,i,s){this.name=t,this._id=e,this.img=i,this.user=s}}var q=i("11oC"),G=i("tk/3");const X=B.a.base_url;let z=(()=>{class t{constructor(t){this.http=t}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}transformUsers(t){return t.map(t=>new q.a(t.name,t.email,"",t.img,t.google,t.role,t.uid))}transformHospitals(t){return t.map(t=>new R(t.name,t._id,t.img,t.user))}transformDoctors(t){return t.map(t=>new J(t.name,t._id,t.img,t.user,t.hospital))}globalSearch(t){return this.http.get(`${X}/todo/${t}`,this.headers)}search(t,e){return this.http.get(`${X}/todo/colection/${t}/${e}`,this.headers).pipe(Object(T.a)(e=>{switch(t){case"users":return this.transformUsers(e.results);case"hospitals":return this.transformHospitals(e.results);case"doctors":return this.transformDoctors(e.results);default:return[]}}))}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(G.a))},t.\u0275prov=s.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var W=i("ke35");function Q(t,e){1&t&&(s.Mb(0,"div",0),s.Mb(1,"div",1),s.Mb(2,"div",12),s.Mb(3,"h4",13),s.jc(4,"Cargando"),s.Lb(),s.Kb(5,"p",14),s.Mb(6,"p",15),s.jc(7,"Por favor espere"),s.Lb(),s.Lb(),s.Lb(),s.Lb())}function Y(t,e){1&t&&(s.Mb(0,"span",37),s.jc(1,"Email"),s.Lb())}function tt(t,e){1&t&&(s.Mb(0,"span",38),s.jc(1,"Google"),s.Lb())}function et(t,e){if(1&t){const t=s.Nb();s.Mb(0,"tr"),s.Mb(1,"td",26),s.Mb(2,"img",27),s.Tb("click",function(){s.ec(t);const i=e.$implicit;return s.Vb(2).openModal(i)}),s.Lb(),s.Lb(),s.Mb(3,"td"),s.jc(4),s.Lb(),s.Mb(5,"td"),s.jc(6),s.Lb(),s.Mb(7,"td"),s.Mb(8,"select",28),s.Tb("ngModelChange",function(t){return e.$implicit.role=t})("change",function(){s.ec(t);const i=e.$implicit;return s.Vb(2).changeRole(i)}),s.Mb(9,"option",29),s.jc(10,"Admin"),s.Lb(),s.Mb(11,"option",30),s.jc(12,"User"),s.Lb(),s.Lb(),s.Lb(),s.Mb(13,"td"),s.ic(14,Y,2,0,"span",31),s.ic(15,tt,2,0,"span",32),s.Lb(),s.Mb(16,"td",33),s.Kb(17,"a",34),s.Mb(18,"a",35),s.Tb("click",function(){s.ec(t);const i=e.$implicit;return s.Vb(2).deleteUser(i)}),s.Kb(19,"i",36),s.Lb(),s.Lb(),s.Lb()}if(2&t){const t=e.$implicit;s.yb(2),s.Zb("src",t.imageUrl,s.fc),s.yb(2),s.kc(t.email),s.yb(2),s.kc(t.name),s.yb(2),s.Zb("ngModel",t.role),s.yb(6),s.Zb("ngIf",!t.google),s.yb(1),s.Zb("ngIf",t.google)}}function it(t,e){if(1&t){const t=s.Nb();s.Mb(0,"div"),s.Mb(1,"button",39),s.Tb("click",function(){return s.ec(t),s.Vb(2).changePage(-5)}),s.jc(2," Anterior "),s.Lb(),s.jc(3," \xa0 "),s.Mb(4,"button",39),s.Tb("click",function(){return s.ec(t),s.Vb(2).changePage(5)}),s.jc(5," Siguiente "),s.Lb(),s.Lb()}}function st(t,e){if(1&t&&(s.Mb(0,"div",16),s.Mb(1,"div",1),s.Mb(2,"div",2),s.Mb(3,"div",3),s.Mb(4,"h4",17),s.jc(5),s.Lb(),s.Mb(6,"h6",18),s.jc(7,"Usuarios registrados en mi aplicacion"),s.Lb(),s.Mb(8,"div",19),s.Mb(9,"table",20),s.Mb(10,"thead"),s.Mb(11,"tr"),s.Mb(12,"th",21),s.jc(13,"Avatar"),s.Lb(),s.Mb(14,"th"),s.jc(15,"Correo"),s.Lb(),s.Mb(16,"th"),s.jc(17,"Nombre"),s.Lb(),s.Mb(18,"th",22),s.jc(19,"Role"),s.Lb(),s.Mb(20,"th",21),s.jc(21,"Auth"),s.Lb(),s.Mb(22,"th",23),s.jc(23,"Acciones"),s.Lb(),s.Lb(),s.Lb(),s.Mb(24,"tbody"),s.ic(25,et,20,6,"tr",24),s.Lb(),s.Lb(),s.Lb(),s.ic(26,it,6,0,"div",25),s.Lb(),s.Lb(),s.Lb(),s.Lb()),2&t){const t=s.Vb(),e=s.dc(7);s.yb(5),s.lc("Total de usuarios (",t.totalUsers,")"),s.yb(20),s.Zb("ngForOf",t.users),s.yb(1),s.Zb("ngIf",0===e.value.length)}}let rt=(()=>{class t{constructor(t,e,i){this.userService=t,this.searchService=e,this.modalImageService=i,this.totalUsers=0,this.users=[],this.usersTemp=[],this.from=0,this.loading=!0}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.loadUsers(),this.imgSubs=this.modalImageService.newImage.pipe(V(100)).subscribe(t=>this.loadUsers())}loadUsers(){this.loading=!0,this.userService.loadUsers(this.from).subscribe(({total:t,users:e})=>{this.totalUsers=t,this.users=e,this.usersTemp=e,this.loading=!1})}changePage(t){this.from+=t,this.from<=0?this.from=0:this.from>this.totalUsers&&(this.from-=t),this.loadUsers()}search(t){if(0===t.length)return this.users=this.usersTemp;this.searchService.search("users",t).subscribe(t=>{this.users=t})}deleteTermino(t){this.users=this.usersTemp}deleteUser(t){if(t.uid===this.userService.uid)return D.a.fire("Error","No puede borrarse a si mismo","error");D.a.fire({title:"\xbfEst\xe1s seguro?",text:`Esta a punto de borrar a ${t.name}`,icon:"question",showCancelButton:!0,confirmButtonColor:"#fc4242",cancelButtonColor:"#ababab",confirmButtonText:"Si, borrar!"}).then(e=>{e.value&&this.userService.deleteUser(t).subscribe(e=>{D.a.fire("Usuario eliminado",`${t.name} fue eliminado exitosamente`,"success"),this.loadUsers()})})}changeRole(t){this.userService.saveUser(t).subscribe(t=>{console.log(t)})}openModal(t){console.log(t),this.modalImageService.openModal("users",t.uid,t.img)}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(O.a),s.Jb(z),s.Jb(W.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-users"]],decls:13,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","text-center"],[1,"col-10"],["type","text","placeholder","Buscar usuario",1,"form-control",3,"keyup"],["txtTermino",""],[1,"col-2"],[1,"btn","btn-danger",3,"click"],["class","row animated fadeIn fast",4,"ngIf"],["class","row",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"card-title"],[1,"card-subtitle"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"w140"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-center"],["alt","Avatar",1,"avatar","cursor",3,"src","click"],["name","","id","",1,"form-control",3,"ngModel","ngModelChange","change"],["value","ADMIN_ROLE"],["value","USER_ROLE"],["class","label label-info",4,"ngIf"],["class","label label-danger",4,"ngIf"],[1,"text-nowrap","text-center"],["href","#","data-toggle","tooltip","data-original-title","Editar"],["data-toggle","tooltip","data-original-title","Borrar",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"],[1,"label","label-info"],[1,"label","label-danger"],[1,"btn","btn-secondary",3,"click"]],template:function(t,e){if(1&t){const t=s.Nb();s.Mb(0,"div",0),s.Mb(1,"div",1),s.Mb(2,"div",2),s.Mb(3,"div",3),s.Mb(4,"div",4),s.Mb(5,"div",5),s.Mb(6,"input",6,7),s.Tb("keyup",function(){s.ec(t);const i=s.dc(7);return e.search(i.value)}),s.Lb(),s.Lb(),s.Mb(8,"div",8),s.Mb(9,"button",9),s.Tb("click",function(){s.ec(t);const i=s.dc(7);return e.deleteTermino(i.value="")}),s.jc(10," Borrar "),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.ic(11,Q,8,0,"div",10),s.ic(12,st,27,3,"div",11)}2&t&&(s.yb(11),s.Zb("ngIf",e.loading),s.yb(1),s.Zb("ngIf",!e.loading))},directives:[o.j,o.i,a.n,a.g,a.j,a.k,a.q],encapsulation:2}),t})();var ot=i("mrSG");const at=B.a.base_url;let nt=(()=>{class t{constructor(t){this.http=t}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}loadHospitals(t=0){return this.http.get(`${at}/hospitals?from=${t}`,this.headers).pipe(Object(T.a)(t=>({total:t.total,hospitals:t.hospitals})))}createHospitals(t){return this.http.post(`${at}/hospitals`,{name:t},this.headers)}updateHospitals(t,e){return this.http.put(`${at}/hospitals/${t}`,{name:e},this.headers)}deleteHospitals(t){return this.http.delete(`${at}/hospitals/${t}`,this.headers)}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(G.a))},t.\u0275prov=s.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ct=B.a.base_url;let bt=(()=>{class t{transform(t,e){return t?t.includes("https")?t:t?`${ct}/uploads/${e}/${t}`:`${ct}/uploads/users/no-image`:`${ct}/uploads/users/no-image`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=s.Ib({name:"image",type:t,pure:!0}),t})();function lt(t,e){1&t&&(s.Mb(0,"div",0),s.Mb(1,"div",1),s.Mb(2,"div",12),s.Mb(3,"h4",13),s.jc(4,"Cargando"),s.Lb(),s.Kb(5,"p",14),s.Mb(6,"p",15),s.jc(7,"Por favor espere"),s.Lb(),s.Lb(),s.Lb(),s.Lb())}function dt(t,e){if(1&t){const t=s.Nb();s.Mb(0,"tr"),s.Mb(1,"td",29),s.Mb(2,"img",30),s.Tb("click",function(){s.ec(t);const i=e.$implicit;return s.Vb(2).openModal(i)}),s.Wb(3,"image"),s.Lb(),s.Lb(),s.Mb(4,"td"),s.Mb(5,"input",31),s.Tb("ngModelChange",function(t){return e.$implicit.name=t}),s.Lb(),s.Lb(),s.Mb(6,"td",32),s.Mb(7,"a",33),s.Tb("click",function(){s.ec(t);const i=e.$implicit;return s.Vb(2).updateHospital(i)}),s.Kb(8,"i",34),s.Lb(),s.Mb(9,"a",35),s.Tb("click",function(){s.ec(t);const i=e.$implicit;return s.Vb(2).deleteHospital(i)}),s.Kb(10,"i",36),s.Lb(),s.Lb(),s.Lb()}if(2&t){const t=e.$implicit;s.yb(2),s.Zb("src",s.Xb(3,3,t.img,"hospitals"),s.fc)("alt",t.name),s.yb(3),s.Zb("ngModel",t.name)}}function ut(t,e){if(1&t){const t=s.Nb();s.Mb(0,"div"),s.Mb(1,"button",37),s.Tb("click",function(){return s.ec(t),s.Vb(2).changePage(-5)}),s.jc(2," Anterior "),s.Lb(),s.jc(3," \xa0 "),s.Mb(4,"button",37),s.Tb("click",function(){return s.ec(t),s.Vb(2).changePage(5)}),s.jc(5," Siguiente "),s.Lb(),s.Lb()}}function ht(t,e){if(1&t){const t=s.Nb();s.Mb(0,"div",16),s.Mb(1,"div",1),s.Mb(2,"div",2),s.Mb(3,"div",3),s.Mb(4,"div",16),s.Mb(5,"div",17),s.Mb(6,"h4",18),s.jc(7),s.Lb(),s.Mb(8,"h6",19),s.jc(9," Hospitales registrados en mi aplicacion "),s.Lb(),s.Lb(),s.Mb(10,"div",17),s.Mb(11,"div",20),s.Mb(12,"button",21),s.Tb("click",function(){return s.ec(t),s.Vb().openSweetAlert()}),s.Kb(13,"i",22),s.jc(14," Crear Hospital "),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Mb(15,"div",23),s.Mb(16,"table",24),s.Mb(17,"thead"),s.Mb(18,"tr"),s.Mb(19,"th",25),s.jc(20,"Foto"),s.Lb(),s.Mb(21,"th"),s.jc(22,"Nombre"),s.Lb(),s.Mb(23,"th",26),s.jc(24,"Acciones"),s.Lb(),s.Lb(),s.Lb(),s.Mb(25,"tbody"),s.ic(26,dt,11,6,"tr",27),s.Lb(),s.Lb(),s.Lb(),s.ic(27,ut,6,0,"div",28),s.Lb(),s.Lb(),s.Lb(),s.Lb()}if(2&t){const t=s.Vb(),e=s.dc(7);s.yb(7),s.lc("Hospitales (",t.totalHospitals,")"),s.yb(19),s.Zb("ngForOf",t.hospitals),s.yb(1),s.Zb("ngIf",0===e.value.length)}}let pt=(()=>{class t{constructor(t,e,i){this.hospitalService=t,this.modalImageService=e,this.searchService=i,this.totalHospitals=0,this.hospitals=[],this.hospitalsTemp=[],this.loading=!0,this.from=0}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.loadHospitals(),this.imgSubs=this.modalImageService.newImage.pipe(V(100)).subscribe(t=>this.loadHospitals())}loadHospitals(){this.loading=!0,this.hospitalService.loadHospitals(this.from).subscribe(({total:t,hospitals:e})=>{this.totalHospitals=t,this.hospitals=e,this.hospitalsTemp=this.hospitals,this.loading=!1,console.log(t,e)})}changePage(t){this.from+=t,this.from<=0?this.from=0:this.from>this.totalHospitals&&(this.from-=t),console.log(this.from),this.loadHospitals()}updateHospital(t){this.hospitalService.updateHospitals(t._id,t.name).subscribe(e=>{D.a.fire("Actualizado",t.name,"success")})}deleteHospital(t){D.a.fire({title:"\xbfEst\xe1s seguro?",text:`Esta a punto de borrar a ${t.name}`,icon:"question",showCancelButton:!0,confirmButtonColor:"#fc4242",cancelButtonColor:"#ababab",confirmButtonText:"Si, borrar!"}).then(e=>{e.value&&this.hospitalService.deleteHospitals(t._id).subscribe(e=>{D.a.fire("Hospital eliminado",`${t.name} fue eliminado exitosamente`,"success"),this.loadHospitals()})})}openSweetAlert(){return Object(ot.a)(this,void 0,void 0,function*(){const{value:t=""}=yield D.a.fire({title:"Crear hospital",text:"Ingrese el nuevo hospital",input:"text",inputPlaceholder:"Nombre del hospital",showCancelButton:!0,cancelButtonColor:"#ababab"});t.trim().length>0&&this.hospitalService.createHospitals(t).subscribe(t=>{this.hospitals.push(t.hospital)})})}search(t){if(0===t.length)return this.hospitals=this.hospitalsTemp;this.searchService.search("hospitals",t).subscribe(t=>{this.hospitals=t})}deleteTermino(t){this.hospitals=this.hospitalsTemp}openModal(t){this.modalImageService.openModal("hospitals",t._id,t.img)}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(nt),s.Jb(W.a),s.Jb(z))},t.\u0275cmp=s.Db({type:t,selectors:[["app-hospitals"]],decls:13,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","text-center"],[1,"col-10"],["type","text","placeholder","Buscar hospital",1,"form-control",3,"keyup"],["txtTermino",""],[1,"col-2"],[1,"btn","btn-danger",3,"click"],["class","row animated fadeIn fast",4,"ngIf"],["class","row",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-6"],[1,"card-title"],[1,"card-subtitle"],[1,"text-right"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-hospital-o"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-center"],[1,"cursor","w100",3,"src","alt","click"],["type","text","placeholder","Nombre hospital",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Guardar cambios",1,"cursor",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip","data-original-title","Borrar",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"],[1,"btn","btn-secondary",3,"click"]],template:function(t,e){if(1&t){const t=s.Nb();s.Mb(0,"div",0),s.Mb(1,"div",1),s.Mb(2,"div",2),s.Mb(3,"div",3),s.Mb(4,"div",4),s.Mb(5,"div",5),s.Mb(6,"input",6,7),s.Tb("keyup",function(){s.ec(t);const i=s.dc(7);return e.search(i.value)}),s.Lb(),s.Lb(),s.Mb(8,"div",8),s.Mb(9,"button",9),s.Tb("click",function(){s.ec(t);const i=s.dc(7);return e.deleteTermino(i.value="")}),s.jc(10," Borrar "),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.ic(11,lt,8,0,"div",10),s.ic(12,ht,28,3,"div",11)}2&t&&(s.yb(11),s.Zb("ngIf",e.loading),s.yb(1),s.Zb("ngIf",!e.loading))},directives:[o.j,o.i,a.b,a.g,a.j],pipes:[bt],encapsulation:2}),t})();const mt=B.a.base_url;let ft=(()=>{class t{constructor(t){this.http=t}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}loadDoctors(t=0){return this.http.get(`${mt}/doctors?from=${t}`,this.headers).pipe(Object(T.a)(t=>({total:t.total,doctors:t.doctors})))}getDoctorById(t){return this.http.get(`${mt}/doctors/${t}`,this.headers).pipe(Object(T.a)(t=>t.doctor))}createDoctors(t){return this.http.post(`${mt}/doctors`,t,this.headers)}updateDoctors(t){return this.http.put(`${mt}/doctors/${t._id}`,t,this.headers)}deleteDoctors(t){return this.http.delete(`${mt}/doctors/${t}`,this.headers)}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(G.a))},t.\u0275prov=s.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var gt=i("tyNb");function vt(t,e){1&t&&(s.Mb(0,"div",0),s.Mb(1,"div",1),s.Mb(2,"div",12),s.Mb(3,"h4",13),s.jc(4,"Cargando"),s.Lb(),s.Kb(5,"p",14),s.Mb(6,"p",15),s.jc(7,"Por favor espere"),s.Lb(),s.Lb(),s.Lb(),s.Lb())}const Mt=function(t){return["/dashboard","doctor",t]};function Lt(t,e){if(1&t){const t=s.Nb();s.Mb(0,"tr"),s.Mb(1,"td",29),s.Mb(2,"img",30),s.Tb("click",function(){s.ec(t);const i=e.$implicit;return s.Vb(2).openModal(i)}),s.Wb(3,"image"),s.Lb(),s.Lb(),s.Mb(4,"td"),s.jc(5),s.Lb(),s.Mb(6,"td",31),s.Mb(7,"a",32),s.Kb(8,"i",33),s.Lb(),s.Mb(9,"a",34),s.Tb("click",function(){s.ec(t);const i=e.$implicit;return s.Vb(2).deleteDoctor(i)}),s.Kb(10,"i",35),s.Lb(),s.Lb(),s.Lb()}if(2&t){const t=e.$implicit;s.yb(2),s.Zb("src",s.Xb(3,4,t.img,"doctors"),s.fc)("alt",t.name),s.yb(3),s.kc(t.name),s.yb(2),s.Zb("routerLink",s.bc(7,Mt,t._id))}}function yt(t,e){if(1&t){const t=s.Nb();s.Mb(0,"div"),s.Mb(1,"button",36),s.Tb("click",function(){return s.ec(t),s.Vb(2).changePage(-5)}),s.jc(2," Anterior "),s.Lb(),s.jc(3," \xa0 "),s.Mb(4,"button",36),s.Tb("click",function(){return s.ec(t),s.Vb(2).changePage(5)}),s.jc(5," Siguiente "),s.Lb(),s.Lb()}}function kt(t,e){if(1&t&&(s.Mb(0,"div",16),s.Mb(1,"div",1),s.Mb(2,"div",2),s.Mb(3,"div",3),s.Mb(4,"div",16),s.Mb(5,"div",17),s.Mb(6,"h4",18),s.jc(7),s.Lb(),s.Mb(8,"h6",19),s.jc(9," Doctores registrados en mi aplicacion "),s.Lb(),s.Lb(),s.Mb(10,"div",17),s.Mb(11,"div",20),s.Mb(12,"a",21),s.Kb(13,"i",22),s.jc(14," Crear Doctor "),s.Lb(),s.Lb(),s.Lb(),s.Mb(15,"div",23),s.Mb(16,"table",24),s.Mb(17,"thead"),s.Mb(18,"tr"),s.Mb(19,"th",25),s.jc(20,"Foto"),s.Lb(),s.Mb(21,"th"),s.jc(22,"Nombre"),s.Lb(),s.Mb(23,"th",26),s.jc(24,"Acciones"),s.Lb(),s.Lb(),s.Lb(),s.Mb(25,"tbody"),s.ic(26,Lt,11,9,"tr",27),s.Lb(),s.Lb(),s.Lb(),s.ic(27,yt,6,0,"div",28),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb()),2&t){const t=s.Vb(),e=s.dc(7);s.yb(7),s.lc("Doctores (",t.totalDoctors,")"),s.yb(19),s.Zb("ngForOf",t.doctors),s.yb(1),s.Zb("ngIf",0===e.value.length)}}let wt=(()=>{class t{constructor(t,e,i){this.doctorService=t,this.modalImageService=e,this.searchService=i,this.totalDoctors=0,this.doctors=[],this.doctorsTemp=[],this.from=0,this.loading=!0}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.loadDoctors(),this.imgSubs=this.modalImageService.newImage.pipe(V(100)).subscribe(t=>this.loadDoctors())}loadDoctors(){this.loading=!0,this.doctorService.loadDoctors(this.from).subscribe(({total:t,doctors:e})=>{this.totalDoctors=t,this.doctors=e,this.doctorsTemp=this.doctors,this.loading=!1})}changePage(t){this.from+=t,this.from<=0?this.from=0:this.from>this.totalDoctors&&(this.from-=t),this.loadDoctors()}deleteDoctor(t){D.a.fire({title:"\xbfEst\xe1s seguro?",text:`Esta a punto de borrar a ${t.name}`,icon:"question",showCancelButton:!0,confirmButtonColor:"#fc4242",cancelButtonColor:"#ababab",confirmButtonText:"Si, borrar!"}).then(e=>{e.value&&this.doctorService.deleteDoctors(t._id).subscribe(e=>{D.a.fire("Doctor eliminado",`${t.name} fue eliminado exitosamente`,"success"),this.loadDoctors()})})}search(t){if(0===t.length)return this.doctors=this.doctorsTemp;this.searchService.search("doctors",t).subscribe(t=>{this.doctors=t})}deleteTermino(t){this.doctors=this.doctorsTemp}openModal(t){this.modalImageService.openModal("doctors",t._id,t.img)}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(ft),s.Jb(W.a),s.Jb(z))},t.\u0275cmp=s.Db({type:t,selectors:[["app-doctors"]],decls:13,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","text-center"],[1,"col-10"],["type","text","placeholder","Buscar hospital",1,"form-control",3,"keyup"],["txtTermino",""],[1,"col-2"],[1,"btn","btn-danger",3,"click"],["class","row animated fadeIn fast",4,"ngIf"],["class","row",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-6"],[1,"card-title"],[1,"card-subtitle"],[1,"text-right"],["routerLink","/dashboard/doctor/new",1,"btn","btn-primary"],[1,"fa","fa-hospital-o"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"w100","text-nowrap"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-center"],[1,"cursor","w100",3,"src","alt","click"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Editar",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip","data-original-title","Borrar",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"],[1,"btn","btn-secondary",3,"click"]],template:function(t,e){if(1&t){const t=s.Nb();s.Mb(0,"div",0),s.Mb(1,"div",1),s.Mb(2,"div",2),s.Mb(3,"div",3),s.Mb(4,"div",4),s.Mb(5,"div",5),s.Mb(6,"input",6,7),s.Tb("keyup",function(){s.ec(t);const i=s.dc(7);return e.search(i.value)}),s.Lb(),s.Lb(),s.Mb(8,"div",8),s.Mb(9,"button",9),s.Tb("click",function(){s.ec(t);const i=s.dc(7);return e.deleteTermino(i.value="")}),s.jc(10," Borrar "),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.ic(11,vt,8,0,"div",10),s.ic(12,kt,28,3,"div",11)}2&t&&(s.yb(11),s.Zb("ngIf",e.loading),s.yb(1),s.Zb("ngIf",!e.loading))},directives:[o.j,gt.e,o.i],pipes:[bt],encapsulation:2}),t})();function jt(t,e){if(1&t&&(s.Mb(0,"div",8),s.Mb(1,"label",9),s.jc(2,"Foto"),s.Lb(),s.Mb(3,"div",10),s.Mb(4,"div",11),s.Kb(5,"img",24),s.Wb(6,"image"),s.Lb(),s.Lb(),s.Lb()),2&t){const t=s.Vb();s.yb(5),s.Zb("src",s.Xb(6,1,t.doctorSelected.img,"doctors"),s.fc)}}function It(t,e){if(1&t&&(s.Mb(0,"option",25),s.jc(1),s.Lb()),2&t){const t=e.$implicit;s.Zb("value",t._id),s.yb(1),s.lc(" ",t.name," ")}}function Tt(t,e){if(1&t&&(s.Mb(0,"div",26),s.Mb(1,"div",2),s.Mb(2,"div",3),s.Mb(3,"h4",4),s.jc(4,"Hospital"),s.Lb(),s.Mb(5,"h6",5),s.jc(6),s.Lb(),s.Kb(7,"img",27),s.Wb(8,"image"),s.Lb(),s.Lb(),s.Lb()),2&t){const t=s.Vb();s.yb(6),s.kc(t.hospitalSelected.name),s.yb(1),s.Zb("src",s.Xb(8,2,t.hospitalSelected.img,"hospitals"),s.fc)}}let St=(()=>{class t{constructor(t,e,i,s,r){this.fb=t,this.hospitalService=e,this.doctorService=i,this.router=s,this.activatedRoute=r,this.hospitals=[]}ngOnInit(){this.activatedRoute.params.subscribe(({id:t})=>{this.loadDoctor(t)}),this.doctorForm=this.fb.group({name:["",a.o.required],hospital:["",a.o.required]}),this.loadHospitals(),this.doctorForm.get("hospital").valueChanges.subscribe(t=>{this.hospitalSelected=this.hospitals.find(e=>e._id===t)})}loadDoctor(t){"new"!==t&&this.doctorService.getDoctorById(t).pipe(V(100)).subscribe(t=>{if(!t)return this.router.navigateByUrl("/dashboard/doctors");const{name:e,hospital:{_id:i}}=t;this.doctorSelected=t,this.doctorForm.setValue({name:e,hospital:i})})}loadHospitals(){this.hospitalService.loadHospitals().subscribe(({hospitals:t})=>{this.hospitals=t})}saveDoctor(){const{name:t}=this.doctorForm.value;if(this.doctorSelected){const e=Object.assign(Object.assign({},this.doctorForm.value),{_id:this.doctorSelected._id});this.doctorService.updateDoctors(e).subscribe(e=>{console.log(e),D.a.fire("Actualizazdo",`${t} actualizado con exito`,"success")})}else this.doctorService.createDoctors(this.doctorForm.value).subscribe(e=>{console.log(e),D.a.fire("Creado",`${t} creado con exito`,"success"),this.router.navigateByUrl(`/dashboard/doctor/${e.doctor._id}`)})}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(a.c),s.Jb(nt),s.Jb(ft),s.Jb(gt.c),s.Jb(gt.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-doctor"]],decls:33,vars:5,consts:[[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"form-horizontal","p-t-20",3,"formGroup","submit"],["class","form-group row",4,"ngIf"],[1,"form-group","row"],["for","exampleInputuname3",1,"col-sm-3","control-label"],[1,"col-sm-9"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","id","exampleInputuname3","placeholder","Nombre del doctor","formControlName","name",1,"form-control"],["for","exampleInputEmail3",1,"col-sm-3","control-label"],["formControlName","hospital",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","row","m-b-0"],[1,"offset-sm-3","col-sm-9"],["type","submit",1,"btn","btn-success","waves-effect","waves-light",3,"disabled"],[1,"fa","fa-save"],["class","col-md-6","fadeIn","","fast","",4,"ngIf"],["alt","",1,"w200",3,"src"],[3,"value"],["fadeIn","","fast","",1,"col-md-6"],["alt","",1,"img-thumbnail",3,"src"]],template:function(t,e){1&t&&(s.Mb(0,"div",0),s.Mb(1,"div",1),s.Mb(2,"div",2),s.Mb(3,"div",3),s.Mb(4,"h4",4),s.jc(5,"Doctor"),s.Lb(),s.Mb(6,"h6",5),s.jc(7,"Informacion"),s.Lb(),s.Mb(8,"form",6),s.Tb("submit",function(){return e.saveDoctor()}),s.ic(9,jt,7,4,"div",7),s.Mb(10,"div",8),s.Mb(11,"label",9),s.jc(12,"Nombre"),s.Lb(),s.Mb(13,"div",10),s.Mb(14,"div",11),s.Mb(15,"div",12),s.Kb(16,"i",13),s.Lb(),s.Kb(17,"input",14),s.Lb(),s.Lb(),s.Lb(),s.Mb(18,"div",8),s.Mb(19,"label",15),s.jc(20,"Hospital"),s.Lb(),s.Mb(21,"div",10),s.Mb(22,"div",11),s.Mb(23,"select",16),s.Mb(24,"option",17),s.jc(25,"Seleccione hospital"),s.Lb(),s.ic(26,It,2,2,"option",18),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Mb(27,"div",19),s.Mb(28,"div",20),s.Mb(29,"button",21),s.Kb(30,"i",22),s.jc(31," Guardar "),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.ic(32,Tt,9,5,"div",23),s.Lb()),2&t&&(s.yb(8),s.Zb("formGroup",e.doctorForm),s.yb(1),s.Zb("ngIf",e.doctorSelected),s.yb(17),s.Zb("ngForOf",e.hospitals),s.yb(3),s.Zb("disabled",e.doctorForm.invalid),s.yb(3),s.Zb("ngIf",e.hospitalSelected))},directives:[a.p,a.h,a.e,o.j,a.b,a.g,a.d,a.n,a.k,a.q,o.i],pipes:[bt],encapsulation:2}),t})();function xt(t,e){1&t&&(s.Mb(0,"div",6),s.Mb(1,"p",7),s.jc(2,"No hay usuarios con ese termino"),s.Lb(),s.Lb())}function Ct(t,e){if(1&t&&(s.Mb(0,"tr",11),s.Mb(1,"td"),s.Kb(2,"img",12),s.Wb(3,"image"),s.Lb(),s.Mb(4,"td"),s.jc(5),s.Lb(),s.Lb()),2&t){const t=e.$implicit;s.yb(2),s.Zb("src",s.Xb(3,2,t.img,"users"),s.fc),s.yb(3),s.kc(t.name)}}function Dt(t,e){if(1&t&&(s.Mb(0,"div",8),s.Mb(1,"table",9),s.Mb(2,"thead"),s.Mb(3,"tr"),s.Mb(4,"th"),s.jc(5,"Avatar"),s.Lb(),s.Mb(6,"th"),s.jc(7,"Nombre"),s.Lb(),s.Lb(),s.Lb(),s.Mb(8,"tbody"),s.ic(9,Ct,6,5,"tr",10),s.Lb(),s.Lb(),s.Lb()),2&t){const t=s.Vb();s.yb(9),s.Zb("ngForOf",t.users)}}function Ot(t,e){1&t&&(s.Mb(0,"div",6),s.Mb(1,"p",7),s.jc(2,"No hay hospitales con ese termino"),s.Lb(),s.Lb())}function Zt(t,e){if(1&t&&(s.Mb(0,"tr",11),s.Mb(1,"td"),s.Kb(2,"img",12),s.Wb(3,"image"),s.Lb(),s.Mb(4,"td"),s.jc(5),s.Lb(),s.Lb()),2&t){const t=e.$implicit;s.yb(2),s.Zb("src",s.Xb(3,2,t.img,"hospitals"),s.fc),s.yb(3),s.kc(t.name)}}function $t(t,e){if(1&t&&(s.Mb(0,"div",8),s.Mb(1,"table",9),s.Mb(2,"thead"),s.Mb(3,"tr"),s.Mb(4,"th"),s.jc(5,"Foto"),s.Lb(),s.Mb(6,"th"),s.jc(7,"Nombre"),s.Lb(),s.Lb(),s.Lb(),s.Mb(8,"tbody"),s.ic(9,Zt,6,5,"tr",10),s.Lb(),s.Lb(),s.Lb()),2&t){const t=s.Vb();s.yb(9),s.Zb("ngForOf",t.hospitals)}}function Nt(t,e){1&t&&(s.Mb(0,"div",6),s.Mb(1,"p",7),s.jc(2,"No hay doctores con ese termino"),s.Lb(),s.Lb())}function Ft(t,e){if(1&t){const t=s.Nb();s.Mb(0,"tr",14),s.Tb("click",function(){s.ec(t);const i=e.$implicit;return s.Vb(2).openDoctor(i)}),s.Mb(1,"td"),s.Kb(2,"img",12),s.Wb(3,"image"),s.Lb(),s.Mb(4,"td"),s.jc(5),s.Lb(),s.Lb()}if(2&t){const t=e.$implicit;s.yb(2),s.Zb("src",s.Xb(3,2,t.img,"doctors"),s.fc),s.yb(3),s.kc(t.name)}}function Pt(t,e){if(1&t&&(s.Mb(0,"div",8),s.Mb(1,"table",9),s.Mb(2,"thead"),s.Mb(3,"tr"),s.Mb(4,"th"),s.jc(5,"Foto"),s.Lb(),s.Mb(6,"th"),s.jc(7,"Doctor"),s.Lb(),s.Lb(),s.Lb(),s.Mb(8,"tbody"),s.ic(9,Ft,6,5,"tr",13),s.Lb(),s.Lb(),s.Lb()),2&t){const t=s.Vb();s.yb(9),s.Zb("ngForOf",t.doctors)}}const _t=[{path:"",component:r,data:{title:"Dashboard"}},{path:"account-settings",component:p,data:{title:"Account Settings"}},{path:"grafica1",component:u,data:{title:"Graphic 1"}},{path:"perfil",component:F,data:{title:"Perfil de usuario"}},{path:"progress",component:b,data:{title:"Progress"}},{path:"promesa",component:m,data:{title:"Promises"}},{path:"rxjs",component:x,data:{title:"RXJS"}},{path:"search/:term",component:(()=>{class t{constructor(t,e,i){this.activatedRoute=t,this.searchService=e,this.router=i,this.users=[],this.doctors=[],this.hospitals=[]}ngOnInit(){this.activatedRoute.params.subscribe(({term:t})=>{this.globalSearch(t)})}globalSearch(t){this.searchService.globalSearch(t).subscribe(t=>{this.users=t.users,this.doctors=t.doctors,this.hospitals=t.hospitals})}openDoctor(t){console.log(t),this.router.navigateByUrl(`/dashboard/doctor/${t._id}`)}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(gt.a),s.Jb(z),s.Jb(gt.c))},t.\u0275cmp=s.Db({type:t,selectors:[["app-searchs"]],decls:22,vars:6,consts:[[1,"row","animated","fadeIn"],[1,"col-4"],[1,"card"],[1,"card-body"],["class","alert alert-info",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"alert","alert-info"],[1,"mb-0"],[1,"table-responsive"],[1,"table"],["class","animated fadeIn",4,"ngFor","ngForOf"],[1,"animated","fadeIn"],[1,"w75",3,"src"],["class","animated fadeIn cursor",3,"click",4,"ngFor","ngForOf"],[1,"animated","fadeIn","cursor",3,"click"]],template:function(t,e){1&t&&(s.Mb(0,"div",0),s.Mb(1,"div",1),s.Mb(2,"div",2),s.Mb(3,"div",3),s.Mb(4,"h3"),s.jc(5,"Usuarios"),s.Lb(),s.ic(6,xt,3,0,"div",4),s.ic(7,Dt,10,1,"div",5),s.Lb(),s.Lb(),s.Lb(),s.Mb(8,"div",1),s.Mb(9,"div",2),s.Mb(10,"div",3),s.Mb(11,"h3"),s.jc(12,"Hospitales"),s.Lb(),s.ic(13,Ot,3,0,"div",4),s.ic(14,$t,10,1,"div",5),s.Lb(),s.Lb(),s.Lb(),s.Mb(15,"div",1),s.Mb(16,"div",2),s.Mb(17,"div",3),s.Mb(18,"h3"),s.jc(19,"Doctores"),s.Lb(),s.ic(20,Nt,3,0,"div",4),s.ic(21,Pt,10,1,"div",5),s.Lb(),s.Lb(),s.Lb(),s.Lb()),2&t&&(s.yb(6),s.Zb("ngIf",0===e.users.length),s.yb(1),s.Zb("ngIf",0!=e.users.length),s.yb(6),s.Zb("ngIf",0===e.hospitals.length),s.yb(1),s.Zb("ngIf",0!=e.hospitals.length),s.yb(6),s.Zb("ngIf",0===e.doctors.length),s.yb(1),s.Zb("ngIf",0!=e.doctors.length))},directives:[o.j,o.i],pipes:[bt],encapsulation:2}),t})(),data:{title:"Busquedas"}},{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"doctor/:id",component:St,data:{title:"Doctor"}},{path:"doctors",component:wt,data:{title:"Doctores de aplicacion"}},{path:"hospitals",component:pt,data:{title:"Hospitales de aplicacion"}},{path:"users",canActivate:[(()=>{class t{constructor(t,e){this.userService=t,this.router=e}canActivate(t,e){return"ADMIN_ROLE"===this.userService.role||(this.router.navigateByUrl("/dashboard"),!1)}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(O.a),s.Qb(gt.c))},t.\u0275prov=s.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()],component:rt,data:{title:"Usuarios de aplicacion"}}];let Kt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({imports:[[gt.f.forChild(_t)],gt.f]}),t})()}}]);